# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:$HOME/.local/bin:/usr/local/bin:$PATH

# Path to your Oh My Zsh installation.
export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load --- if set to "random", it will
# load a random theme each time Oh My Zsh is loaded, in which case,
# to know which specific one was loaded, run: echo $RANDOM_THEME
# See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
# I am using a custom robbyrussell theme. Find it at -> /Users/joe/.oh-my-zsh/custom/themes/robbyrussell.zsh-theme
ZSH_THEME="robbyrussell"

# Which plugins would you like to load?
# Standard plugins can be found in $ZSH/plugins/
# Custom plugins may be added to $ZSH_CUSTOM/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git)

source $ZSH/oh-my-zsh.sh

# User configuration

# Makes it so ls shows colors
export CLICOLOR=1

# Load Homebrew if it's installed
homebrew_installation_path=/opt/homebrew/bin/brew
if [ -f $homebrew_installation_path ]; then
    eval "$($homebrew_installation_path shellenv)"
fi



# Add Docker completions if Docker is installed (https://docs.docker.com/engine/cli/completion/#zsh)
if command -v docker 2>&1 >/dev/null; then
    docker_completions_directory="$HOME/.docker/completions"
    docker_completions_file_path=$docker_completions_directory/_docker
    if [ ! -d $docker_completions_directory ]; then
        echo Docker completions directory does not exist. Creating it at $docker_completions_directory
        mkdir -p $docker_completions_directory
    fi
    if [ ! -f $docker_completions_file_path ]; then
        echo Docker completions file does not exist. Creating it at $docker_completions_file_path
        docker completion zsh > $docker_completions_file_path
    fi
    FPATH="$docker_completions_directory:$FPATH"
fi

if command -v mise 2>&1 >/dev/null; then
    mise_completions_directory="$HOME/.config/mise/completions"
    mise_completions_file_path="$mise_completions_directory/_mise"
    if [ ! -d $mise_completions_directory ]; then
        mkdir -p $mise_completions_directory
    fi
    if [ ! -f $mise_completions_file_path ]; then
        mise completion zsh > $mise_completions_file_path
    fi
    FPATH="$mise_completions_directory:$FPATH"
fi

# Add kubectl completions if the kubectl command is installed (https://kubernetes.io/docs/tasks/tools/install-kubectl-macos/#enable-shell-autocompletion)
if command -v kubectl 2>&1 >/dev/null; then
    source <(kubectl completion zsh)
fi

eval "$(mise activate zsh)"

# Load homebrew shell completions (https://docs.brew.sh/Shell-Completion#configuring-completions-in-zsh)
autoload -Uz compinit
compinit

# Aliases
alias la="ls -a"
alias ll="ls -ahl"
alias brew-update="brew update && brew upgrade && brew autoremove && brew cleanup"
